---
import type { HTMLAttributes } from 'astro/types';

export interface Props {
  src: string;
  title?: string;
  figureClasses?: string;
  videoClasses?: string;
  figcaptionClasses?: string;
  figureProps?: HTMLAttributes<'figure'>;
  videoProps?: HTMLAttributes<'video'>;
  figcaptionProps?: HTMLAttributes<'figcaption'>;
}

const {
  src,
  title,
  figureClasses,
  videoClasses,
  figcaptionClasses,
  figureProps,
  videoProps,
  figcaptionProps,
} = Astro.props;
---

<figure class={figureClasses} {...figureProps}>
  <video class:list={['w-full', videoClasses]} {...videoProps}>
    <source src={src} />
  </video>
  {
    title && (
      <figcaption
        class:list={['text-center text-[0.8em] italic mt-2', figcaptionClasses]}
        {...figcaptionProps}
      >
        {title}
      </figcaption>
    )
  }
</figure>
